yaku_dict = {
    "lz,1": "立直(1飜)",
    "rz,1": "立直(1飜)",
    "rc,1": "立直(1飜)",
    "reach,1": "立直(1飜)",
    "lz": "立直(1飜)",
    "rz": "立直(1飜)",
    "rc": "立直(1飜)",
    "reach": "立直(1飜)",
    "lizhi": "立直(1飜)",
    "lizhi,1": "立直(1飜)",
    "llz,2": "両立直(2飜)",
    "llz": "両立直(2飜)",
    "lianglizhi": "両立直(2飜)",
    "lianglizhi,2": "両立直(2飜)",
    "yf,1": "一発(1飜)", 
    "yf": "一発(1飜)", 
    "ybk,1": "一盃口(1飜)",
    "ybk": "一盃口(1飜)",
    "zm,1": "門前清自摸和(1飜)",
    "zm": "門前清自摸和(1飜)",
    "lym": ["立直(1飜)", "一発(1飜)", "門前清自摸和(1飜)"],
    "lym, 3": ["立直(1飜)", "一発(1飜)", "門前清自摸和(1飜)"],
    "d,1": "ドラ(1飜)",
    "d": "ドラ(1飜)",
    "a,1": "赤ドラ(1飜)",
    "a": "赤ドラ(1飜)",
    "u,1": "裏ドラ(1飜)",
    "u": "裏ドラ(1飜)",
    "d,2": "ドラ(2飜)",
    "dd": "ドラ(2飜)",
    "a,2": "赤ドラ(2飜)",
    "aa": "赤ドラ(2飜)",
    "u,2": "裏ドラ(2飜)",
    "uu": "裏ドラ(2飜)",
    "d,3": "ドラ(3飜)",
    "ddd": "ドラ(3飜)",
    "a,3": "赤ドラ(3飜)",
    "aaa": "赤ドラ(3飜)",
    "u,3": "裏ドラ(3飜)",
    "uuu": "裏ドラ(3飜)",
    "d,4": "ドラ(4飜)",
    "u,4": "裏ドラ(4飜)",
    "d,5": "ドラ(5飜)",
    "u,5": "裏ドラ(5飜)",
    "d,6": "ドラ(6飜)",
    "u,6": "裏ドラ(6飜)",
    "d,7": "ドラ(7飜)",
    "u,7": "裏ドラ(7飜)",
    "d,8": "ドラ(8飜)",
    "u,8": "裏ドラ(8飜)",
    "d,9": "ドラ(9飜)",
    "u,9": "裏ドラ(9飜)",
    "d,10": "ドラ(10飜)",
    "u,10": "裏ドラ(10飜)",
    "d,11": "ドラ(11飜)",
    "u,11": "裏ドラ(11飜)",
    "d,12": "ドラ(12飜)",
    "u,12": "裏ドラ(12飜)",
    "ph,1": "平和(1飜)",
    "ph": "平和(1飜)",
    "dyj,1": "断幺九(1飜)",
    "dyj": "断幺九(1飜)",
    "dy,1": "断幺九(1飜)",
    "dy": "断幺九(1飜)",
    "ldp": ["立直(1飜)", "断幺九(1飜)", "平和(1飜)"],
    "ldp,3": ["立直(1飜)", "断幺九(1飜)", "平和(1飜)"],
    "dp": ["断幺九(1飜)", "平和(1飜)"],
    "dp,2": ["断幺九(1飜)", "平和(1飜)"],
    "dpss": ["断幺九(1飜)", "平和(1飜)", "三色同順(2飜)"],
    "dpss,4": ["断幺九(1飜)", "平和(1飜)", "三色同順(2飜)"],
    "qg,1":"槍槓(1飜)",
    "qg": "槍槓(1飜)",
    "lskh,1":"嶺上開花(1飜)",
    "hdmy,1":"海底摸月(1飜)",
    "hdly,1":"河底撈魚(1飜)",
    "lskh":"嶺上開花(1飜)",
    "hdmy":"海底摸月(1飜)",
    "hdly":"河底撈魚(1飜)",
    "lskh,1":"嶺上開花(1飜)",
    "hdmy,1":"海底摸月(1飜)",
    "hdly,1":"河底撈魚(1飜)",
    "ls":"嶺上開花(1飜)",
    "hedi":"海底摸月(1飜)",
    "haidi":"河底撈魚(1飜)",
    "ls,1":"嶺上開花(1飜)",
    "hedi,1":"海底摸月(1飜)",
    "haidi,1":"河底撈魚(1飜)",
    "ssts,1": "三色同順(1飜)",
    "ssts,2": "三色同順(2飜)",
    "sstk,2": "三色同刻(2飜)",
    "sstk": "三色同刻(2飜)",
    "yqtg,1": "一気通貫(1飜)",
    "yqtg,2": "一気通貫(2飜)",
    "5z,1": "役牌 白(1飜)",
    "6z,1": "役牌 發(1飜)",
    "7z,1": "役牌 中(1飜)",
    "1z,1": "自風 東(1飜)",
    "2z,1": "自風 南(1飜)",
    "3z,1": "自風 西(1飜)",
    "4z,1": "自風 北(1飜)",
    "cf1z,1": "場風 東(1飜)",
    "cf2z,1": "場風 南(1飜)",
    "5z": "役牌 白(1飜)",
    "6z": "役牌 發(1飜)",
    "7z": "役牌 中(1飜)",
    "1z": "自風 東(1飜)",
    "2z": "自風 南(1飜)",
    "3z": "自風 西(1飜)",
    "4z": "自風 北(1飜)",
    "dbd": ["自風 東(1飜)", "場風 東(1飜)"],
    "dbn": ["自風 南(1飜)", "場風 南(1飜)"],
    "dbd,2": ["自風 東(1飜)", "場風 東(1飜)"],
    "dbn,2": ["自風 南(1飜)", "場風 南(1飜)"],
    "cf1z": "場風 東(1飜)",
    "cf2z": "場風 南(1飜)",
    "qdz,2": "七対子(2飜)",
    "qdz": "七対子(2飜)",
    "hqdyj,1": "混全帯幺九(1飜)",
    "hqdyj,2": "混全帯幺九(2飜)", 
    "sangz,2": "三槓子(2飜)",
    "sangz": "三槓子(2飜)",
    "ddh,2": "対々和(2飜)",
    "ddh": "対々和(2飜)",
    "tt,2": "対々和(2飜)",
    "tt": "対々和(2飜)",
    "sanak,2": "三暗刻(2飜)",
    "xsy,2": "小三元(2飜)",
    "hlt,2": "混老頭(2飜)",
    "lbk,3": "二盃口(3飜)",
    "sanak": "三暗刻(2飜)",
    "xsy": "小三元(2飜)",
    "hlt": "混老頭(2飜)",
    "lbk": "二盃口(3飜)",
    "cqdyj,2": "純全帯幺九(2飜)",
    "cqdyj,3": "純全帯幺九(3飜)",
    "hys,2": "混一色(2飜)",
    "hys,3": "混一色(3飜)",
    "qys,5": "清一色(5飜)",
    "qys,6": "清一色(6飜)",
    "lys,-1":"緑一色(役満)",
    "dsy,-1":"大三元(役満)",
    "sinak,-1":"四暗刻(役満)",
    "siakdq,-1":"四暗刻単騎(役満)",
    "dsx,-1":"大四喜(役満)",
    "xsx,-1":"小四喜(役満)",
    "zys,-1":"字一色(役満)",
    "qlt,-1":"清老頭(役満)",
    "gsws,-1":"国士無双(役満)",
    "gswsssm,-1":"国士無双１３面(役満)",
    "jlbd,-1":"九蓮宝燈(役満)",
    "czjlbd,-1":"純正九蓮宝燈(役満)",
    "sigz,-1":"四槓子(役満)",
    "th,-1":"天和(役満)",
    "dh,-1":"地和(役満)"
}

yaku_to_num_dict = {
    "lz": 1,
    "rz": 1,
    "rc": 1,
    "reach": 1,
    "lizhi": 1,
    "llz": 2,
    "lianglizhi": 2,
    "yf": 1, 
    "zm": 1,
    "lym": 3,
    "ybk": 1,
    "d": 1,
    "a": 1,
    "u": 1,
    "dd": 2,
    "aa": 2,
    "uu": 2,
    "ddd": 3,
    "aaa": 3,
    "uuu": 3,
    "ph": 1,
    "dyj": 1,
    "dy": 1,
    "ldp": 3,
    "dp": 2,
    "dpss": 4,
    "qg": 1,
    "lskh": 1,
    "hdmy": 1,
    "hdly": 1,
    "ls": 1,
    "hedi": 1,
    "haidi": 1,
    "sstk": 2,
    "5z": 1,
    "6z": 1,
    "7z": 1,
    "1z": 1,
    "2z": 1,
    "3z": 1,
    "4z": 1,
    "dbd": 2,
    "dbn": 2,
    "cf1z": 1,
    "cf2z": 1,
    "qdz": 2,
    "sangz": 2,
    "ddh": 2,
    "tt": 2,
    "sanak": 2,
    "xsy": 2,
    "hlt": 2,
    "lbk": 3,
}

name_to_hash = {
    "cc": "PARY",
    "wk": "LJL7",
    "tb": "5JMY",
    "gy": "0MRS"
}

def calc_hansu(yaku):
    if yaku not in yaku_dict:
        raise ValueError(f"役名不可解析，役：{yaku}")
    
    if "," in yaku:
        return int(yaku.split(",")[1])
    elif yaku in yaku_to_num_dict:
        return yaku_to_num_dict[yaku]
    else:
        raise ValueError(f"番数未声明且不在预设表中，役：{yaku}")